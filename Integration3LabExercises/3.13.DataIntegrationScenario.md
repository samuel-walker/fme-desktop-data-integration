<!--Exercise Section-->

<table style="border-spacing: 0px;border-collapse: collapse;font-family:serif">
<tr>
<td width=25% style="vertical-align:middle;background-color:darkorange;border: 2px solid darkorange">
<i class="fa fa-cogs fa-lg fa-pull-left fa-fw" style="color:white;padding-right: 12px;vertical-align:text-top"></i>
<span style="color:white;font-size:x-large;font-weight: bold"></span>
</td>
<td style="border: 2px solid darkorange;background-color:darkorange;color:white">
<span style="color:white;font-size:x-large;font-weight: bold">Data Integration Scenario</span>
</td>
</tr>

<tr>
<td style="border: 1px solid darkorange; font-weight: bold">Data</td>
<td style="border: 1px solid darkorange">City Parks (MapInfo TAB)<br>City... list all here</td>
</tr>

<tr>
<td style="border: 1px solid darkorange; font-weight: bold">Overall Goal</td>
<td style="border: 1px solid darkorange">Use your FME skills to integrate data from several City departments into a centralized database.</td>
</tr>

<tr>
<td style="border: 1px solid darkorange; font-weight: bold">Demonstrates</td>
<td style="border: 1px solid darkorange">Content Transformation, Structural Transformation, Schema Editing</td>
</tr>

<tr>
<td style="border: 1px solid darkorange; font-weight: bold">Start Workspace</td>
<td style="border: 1px solid darkorange">None</td>
</tr>

<tr>
<td style="border: 1px solid darkorange; font-weight: bold">End Workspace</td>
<td style="border: 1px solid darkorange">None. Instructors can access final workspace <a href="">here</a>.</td>
</tr>

</table>

## Introduction

In the previous exercises you have learned how to translate and transform data using FME. Now let's put that knowledge to use! As we covered in the [Lecture section](Integration1Lecture\1.00.Lecture.md), data integration is a key requirement for modern organizations. In this exercise you will develop a workspace that solves a data integration problem. There are three scenarios to choose from: business intelligence, city government, or natural resource management. All three have the same requirements:
-think of a potential data integration problem your organization might have
-combine existing data in multiple formats into one central database (Esri geodatabase)
-combine your new datasets to solve the problems
-produce a deliverable and report showing your results

Having a central database can allow city governments to run much smoother. Having all of their data in one place allows them to visualize city operations, plan for future development, and fulfill requirements for quick and easy access to public data.

This exercise offers less guidance than the previous ones; you will have to explore FME for yourself in order to solve the problem. To get started, we will provide an example of integrating one dataset into a central database. After that you can follow similar steps for the remaining datasets. If you have trouble carrying out the steps you can refer to the FME Workbench Help (also available online in our [Documentation](https://support.safe.com/KnowledgeDocumentation)) or the community [Knowledge Center](https://knowledge.safe.com/).

## Exercise Goals

Your final challenge is to identify a possible problem based on your scenario and come up with a data integration solution.

**Could also make these the ones you pick from...**

You will have to explain the problem and solution you identified in a short report. Additionally, you must find a way to illustrate the benefits of your data integration solution by creating a deliverable: a map, table, or description of a new organizational process made possible by the solution. You can create this output using FME only (check out this [blog post for FME cartography tips](https://blog.safe.com/2017/12/cartography/) or this article on the [Mapnik Rasterizer](https://knowledge.safe.com/articles/1092/introduction-to-mapnikrasterizer.html)), or you can bring the data created in FME into another program, e.g. ArcGIS, Adobe Illustrator, GeoJSON (use Google Maps, Leaflet, Mapbox, etc.), Google Earth, Tableau, Qlik, QGIS, etc.

To get you thinking, here are some example problems that could be addressed:

Scenario|Problem
--|--
Business Intelligence|
City Government|The federal government has just announced a subsidy for building electric vehicle charging stations. The City of Vancouver Planning department has been tasked with identifying suitable locations for the stations. They must be a certain distance away from each other, on city-owned property, in X zoning, not in X, etc.
Environmental Resource Management|

<br>**1) Inspect Data**
To start off, inspect the data you have been given. There is a wide variety of topics and formats available. More data is available from the [City of Vancouver Open Data catalogue](http://data.vancouver.ca/datacatalogue/index.htm).

Topic|Format|Location (FMEData2018\Data\...)|
--|--|--
Addresses|Esri Geodatabase|Addresses\Addresses.gdb
Building Footprints|SpatialLite Database or AutoCAD DWG|Engineering\BuildingFootprints\building_footprints.sl3 or C:\FMEData2018\Data\Parcels\BuildingFootprints.dwg
Bike Paths|Esri Shapefile|Transportation\Cycling\BikePaths*.shp|
Business Licenses|Excel Spreadsheet|Planning\BusinessLicenses.xlsx
City Grid|Geography Markup Language|Boundaries\CityGrid.gml
City-owned Properties|Esri Shapefile|Parcels\CityProperties\CityProperties.shp
Coastal Zones|Geography Markup Language|Boundaries\CoastalZones\CoastalZones.gml
Community Resources|Esri Geodatabase|CommunityMapping\CommunityMap.gdb
Crime|Comma Separated Values|Emergency\Crime.csv
Drinking Fountains|Comma-separated Values|Engineering\DrinkingFountains.csv
Election Results|Excel Spreadsheet|Elections\ElectionResults.xls
Election Voting Districts|Geography Markup Language|Elections\ElectionVoting.gml
Elevation|Digital Elevation Model|ElevationModel\DEM-Full.dem
Firehalls with Zones|Geography Markup Language|Emergency\FireHallsWithZones.gml
Forward Sortation Areas (for postcode)|Esri Shapefile|Addresses\ForwardSortationAreas.shp
Land Boundary|Esri Shapefile|Boundaries\LandBoundary\VancouverLandBoundary.shp
Neighborhoods|Google Keyhole Markup Language|Boundaries\VancouverNeighborhoods.kml
Orthophotos (scale corrected aerial photographs)|TIF|Orthophotos\*.tif
Parcels|AutoCAD DWG|Parcels\Parcels.dwg
Parking Meters|MapInfo TAB|Transportation\Parking\Meters.tab
Parking Tickets|Comma-separated Values|Transportation\Parking\ParkingTickets.csv
Parks|MapInfo TAB|Parks\Parks.tab
Planning Restrictions (Business Improvement Areas, Historic Areas, Noise Control Areas, and View Cones)|OCG Geopackage|Planning\PlanningRestrictions.gpkg
Point Cloud (LiDAR)|LAS|PointClouds\CoV*.laz
Public Art|Excel Spreadsheet|Culture\PublicArt.xlsx
Public Trees|Comma-separated Values|Parks\Parks.tab
Roads|AutoCAD DWG or Microstation DGN|Transportation\CompleteRoads.dwg or RoadsDGN.dgn
Street Lighting|AutoCAD DWG and Microstation DGN|Engineering\StreetLighting.dwg and StreetLightingDGN.dgn
Traffic Signals|AutoCAD DWG and Microstation DGN|Engineering\TrafficSignals.dwg and TrafficSignalsDGN.dgn
Zoning|MapInfo TAB|Zoning\Zones.tab
Zoning Descriptions|Adobe PDF|Zoning\ZoneDescriptions.pdf

Following the instructions from [Exercise 3](Integration3LabExercises\3.04.Exercise3.md), open some of these files in the FME Data Inspector to see what attributes they have. Note that most data will make sense if the reader uses default values, but some formats need particular parameters set.

<br>**2) Set Up Workspace**
The first step in any FME project is to set up your initial workspace. Choose one dataset you wish to use to create a reader and for your writer choose Esri Geodatabase. In this example we'll start with X.


# Outline
- Inspect Data
- Set Up Workspace
  - Generate
  - R/W parameters
  - Run
  - Inspect
- ?

# Notes
- Some formats provide an x and y column with latitude and longitude values. Points need to be created from these values in order to have geometry; you can use reader parameters or the VertexCreator to do so.
- Extra skills
  - Feature caching and partial runs
  - Merged versus individual feature types
    - fme_feature_type format attribute (good for merged feature types)

# Local government case using Vancouver data
- Addresses
- Boundaries
- Community Mapping (base?)
- Culture (public art)
- Elevation model (DEM)
- Emergency (all)
- Engineering
- Parcels
- Parks
- Planning
- Transportation
- Zoning
- Read Crime live? Could point to URL - maybe for all?

# Could add additional scenarios

## BI tabular case
- BI data I found?
- Integrate with non-business data; e.g. demographics from census?

## Web-based formats/data
- JSON and GeoJSON
- Petra and Dean
